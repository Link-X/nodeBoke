webpackJsonp([3],{Cdx3:function(e,a,s){var t=s("sB3e"),n=s("lktj");s("uqUo")("keys",function(){return function(e){return n(t(e))}})},K7nG:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("fZjL"),n=s.n(t),r=s("Dd8w"),i=s.n(r),o=s("NYxO"),u={data:function(){return{singUpData:{userName:"",password:"",iphone:"",signature:""},singErr:{userName:"",password:"",iphone:"",signature:""}}},methods:i()({singUp:function(){var e=this;this.aganJudeg(function(){e.addUser(e.singUpData).then(function(a){"add"===a.data.type?(e.$toast("注册成功"),e.goLogIn()):"exist"===a.data.type&&e.$toast("登陆账号已存在")})})},aganJudeg:function(e){var a=this,s=/[\u4e00-\u9fa5]/g,t=this.singUpData,r={iphone:t.iphone.length<=11&&t.iphone.length>=6&&!s.test(t.iphone),userName:t.userName.length>=1&&t.userName.length<=11,password:t.password.length<=11&&t.password.length>=6&&!s.test(t.password),signature:t.signature.length>=1&&t.signature.length<=100},i={iphone:"账号需大于6位小于11位不能含有中文",userName:"用户名需大于1位小于11位不能含有中文",password:"密码必须大于6位小于18位不能含有中文",signature:"个性签名必须大于1位小于100位"};for(var o in n()(r).forEach(function(e){a.singErr[e]=r[e]?"":i[e]}),this.singErr)if(this.singErr[o])return;e()},goLogIn:function(){var e=this,a={iphone:this.singUpData.iphone,password:this.singUpData.password};this.logIn(a).then(function(a){if(a){e.SET_ISLOTIN(!0);var s={userName:a.data[0].userName,userId:String(a.data[0].id)};e.SET_USER(s),e.$router.push({path:"/message"})}})},back:function(){this.$router.back()}},Object(o.b)(["addUser","logIn"]),Object(o.d)(["SET_ISLOTIN","SET_USER"]))},p={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("div",{staticClass:"sing-up_title"},[s("span",{staticClass:"sing-up_icon",on:{click:e.back}},[s("van-icon",{attrs:{name:"arrow-left"}})],1),e._v(" "),s("span",{staticClass:"sup-title_text"},[e._v("账号注册")])]),e._v(" "),s("van-cell-group",[s("van-field",{attrs:{label:"登陆账号",placeholder:"请输入登陆账号","error-message":e.singErr.iphone,required:""},model:{value:e.singUpData.iphone,callback:function(a){e.$set(e.singUpData,"iphone",a)},expression:"singUpData.iphone"}}),e._v(" "),s("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名","error-message":e.singErr.userName,required:""},model:{value:e.singUpData.userName,callback:function(a){e.$set(e.singUpData,"userName",a)},expression:"singUpData.userName"}}),e._v(" "),s("van-field",{attrs:{type:"passWord",label:"密码","error-message":e.singErr.password,placeholder:"请输入密码",required:""},model:{value:e.singUpData.password,callback:function(a){e.$set(e.singUpData,"password",a)},expression:"singUpData.password"}}),e._v(" "),s("van-field",{attrs:{type:"textarea",label:"个性签名",rows:"3",autosize:"",placeholder:"来一个印象深刻的签名","error-message":e.singErr.signature,required:""},model:{value:e.singUpData.signature,callback:function(a){e.$set(e.singUpData,"signature",a)},expression:"singUpData.signature"}})],1),e._v(" "),s("div",{staticClass:"sing-up_btn"},[s("van-button",{on:{click:e.singUp}},[e._v("立即注册")])],1)],1)},staticRenderFns:[]};var l=s("VU/8")(u,p,!1,function(e){s("LEzI")},"data-v-2cf33c80",null);a.default=l.exports},LEzI:function(e,a){},fZjL:function(e,a,s){e.exports={default:s("jFbC"),__esModule:!0}},jFbC:function(e,a,s){s("Cdx3"),e.exports=s("FeBl").Object.keys},uqUo:function(e,a,s){var t=s("kM2E"),n=s("FeBl"),r=s("S82l");e.exports=function(e,a){var s=(n.Object||{})[e]||Object[e],i={};i[e]=a(s),t(t.S+t.F*r(function(){s(1)}),"Object",i)}}});